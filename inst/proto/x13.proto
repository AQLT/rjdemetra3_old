syntax = "proto3";
import public "toolkit.proto";
import public "regarima.proto";

package x13;

option java_package = "demetra.x13.io.protobuf";
option java_outer_classname = "X13Protos";

message X11Spec {
  enum DecompositionMode {
    UNKNOWN = 0;
    ADDITIVE = 1;
    MULTIPLICATIVE = 2;
    LOGADDITIVE = 3;
    PSEUDOADDITIVE = 4;
  }
  
  enum SeasonalFilter {
    MSR=0;
    STABLE=1;
    S3X1=2;
    S3X3=3;
    S3X5=4;
    S3X9=5;
    S3X15=6;
    X11DEFAULT=7;
  }
  
  enum CalendarSigma {
    NONE=0;
    SIGNIF=1; 
    ALL=2;
    SELECT=3;
  }
  
  enum BiasCorrection {
    NOCORRECTION =0;
    LEGACY = 1;
    SMOOTH = 2;
    RATIO = 3;	
  }
  
  DecompositionMode mode = 1;
  bool seasonal = 2;
  int32 henderson = 3;
  repeated SeasonalFilter sfilter=4;
  double lsig = 5;
  double usig = 6;
  int32 nfcasts = 7;
  int32 nbcasts = 8;
  CalendarSigma sigma = 9;
  repeated int32 vsigma = 10;
  bool excudefcasts = 11;
  BiasCorrection bias = 12;
}

message Spec {
    
    message BasicSpec{
		jd3.TimeSelector span = 1;
		bool preprocessing = 2;
		bool preliminary_check = 3;
    }
	
    message TransformSpec{
		
    }
    
    message AutoModelSpec{
        bool enabled = 1;
        double ljungbox = 2;
        double tsig = 3;
        double predcv = 4;
        double ubfinal = 5;
        double ub1 = 6;
        double ub2 = 7;
        double cancel = 8;
        double fct = 9;
        bool acceptdef = 10;
        bool checkmu = 11;
        bool mixed = 12;
        bool balanced = 13;
    }

	BasicSpec basic=1;
	regarima.SarimaSpec arima=3;
    AutoModelSpec automodel = 4;
    X11Spec x11=7;
}

